# Django
# En production: définissez OBLIGATOIREMENT DJANGO_SECRET_KEY (valeur forte et secrète)
DJANGO_SECRET_KEY=CHANGE_ME_STRONG_SECRET
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000
CORS_ALLOW_ALL_ORIGINS=True
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
RECO_INIT_MODELS_ON_STARTUP=False

# Database (PostgreSQL)
# En production: définissez OBLIGATOIREMENT POSTGRES_PASSWORD et envisagez un utilisateur non-superuser
POSTGRES_DB=soutenance2
POSTGRES_USER=postgres
POSTGRES_PASSWORD=BlackEurtz8282@
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
# En production, activer SSL vers PostgreSQL (si supporté par l'hébergement)
POSTGRES_SSL_REQUIRE=True

# CORS/CSRF (mettre des valeurs plus strictes en production)
# Par défaut, désactiver le "Allow All" et lister des origines explicites
CORS_ALLOW_ALL_ORIGINS=False
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# JWT Auth
USE_JWT_AUTH=True
JWT_ACCESS_MIN=15
JWT_REFRESH_DAYS=7

# Algorithme de signature JWT
# - RS256 (recommandé en multi-services) avec clés PEM
# - HS256 (clé secrète partagée) si plus simple pour un seul backend
JWT_ALGORITHM=RS256

# RS256: chemins vers les clés PEM (ne pas commiter ces fichiers)
JWT_PRIVATE_KEY_PATH=secrets/jwt_private.pem
JWT_PUBLIC_KEY_PATH=secrets/jwt_public.pem

# HS256 (alternative): définir une clé forte si vous utilisez HS256
# JWT_SIGNING_KEY=

# Redis
REDIS_URL=redis://127.0.0.1:6379/0
REDIS_CACHE_URL=redis://127.0.0.1:6379/1

# Celery
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP=True

# DRF
DRF_THROTTLE_ANON=100/min
DRF_THROTTLE_USER=1000/min


# Frontend/Backend
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# Réseaux sociaux (remplacez par vos vraies valeurs)
# Google
GOOGLE_CLIENT_ID=139484318993-npf1ptnr9ih9k1got5b4fgl3qt3c3mn6.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# Facebook
FACEBOOK_APP_ID=YOUR_FACEBOOK_APP_ID
FACEBOOK_APP_SECRET=YOUR_FACEBOOK_APP_SECRET

# Apple (tous requis pour activer AppleIdAuth)
APPLE_CLIENT_ID=YOUR_APPLE_SERVICE_ID_OR_APP_ID
APPLE_TEAM_ID=YOUR_APPLE_TEAM_ID
APPLE_KEY_ID=YOUR_APPLE_KEY_ID
# Mettre la clé privée Apple sur UNE SEULE LIGNE (les retours à la ligne cassent python-dotenv)
# Remplacez <YOUR_APPLE_PRIVATE_KEY> par votre clé sans retours à la ligne
APPLE_PRIVATE_KEY_PEM=-----BEGIN PRIVATE KEY-----<YOUR_APPLE_PRIVATE_KEY>-----END PRIVATE KEY-----

# Géocodage (Google Geocoding API)
GOOGLE_API_KEY=AQ.Ab8RN6JDaSlCNOMXZ3GbXDuqWt2XO1X6V0MLgwcJm4W_XzFnmw
GOOGLE_GEOCODE_ENDPOINT=https://maps.googleapis.com/maps/api/geocode/json
GOOGLE_TIMEOUT=5
GOOGLE_CACHE_TTL=86400
DEFAULT_COUNTRY_NAME=Gabon

# Elasticsearch (optionnel)
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_SCHEME=http
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_VERIFY_CERTS=false
ELASTICSEARCH_INDEX_PRODUCTS=produits
ELASTICSEARCH_INDEX_SUGGEST=produits_suggest

# Scraping configuration (exemples; adaptez ou laissez vide)
DGCCRF_BASE_URL=https://example.dgccrf.fr/editions/
DGCCRF_USER_AGENT=ComparateurPrixBot/1.0 (+contact@example.com)
DGCCRF_REQUEST_DELAY=1.0
# Délai maximum (s), retries et backoff exponentiel
DGCCRF_TIMEOUT=30
DGCCRF_MAX_RETRIES=3
DGCCRF_BACKOFF=1.5
DGCCRF_SAVE_TO_DB=true
# n’insérer que les changements détectés
DGCCRF_SKIP_UNCHANGED=true
DGCCRF_REPORT_OUT=data/dgccrf_report.json
DGCCRF_LOG_FILE=logs/dgccrf_scraper.log
DGCCRF_RAW_DIR=data/raw/dgccrf
# Proxy HTTP/HTTPS (laisser vide si non utilisé)
DGCCRF_PROXY=
# Fichiers d'état et de checkpoint pour détection de changements et reprise
DGCCRF_STATE_FILE=.dgccrf_state.json
DGCCRF_CHECKPOINT_PATH=.dgccrf_checkpoint.json
# URLs spécifiques (peuvent surcharger les défauts du scraper)
DGCCRF_PRIX_HOMOLOGUE_URL=https://www.dgccrf.ga/echo-prix-homologue
DGCCRF_LISTE_PRODUIT_URL=https://www.dgccrf.ga/echo-liste-produit
DGCCRF_PRODUIT_PETROLIER_URL=https://www.dgccrf.ga/echo-produit-petrolier
DGCCRF_RESPECT_ROBOTS=true

# Google Maps (Distance Matrix + JS Maps)
GOOGLE_MAPS_API_KEY=

# Admin URL paramétrable (obfuscation basique en prod)
DJANGO_ADMIN_URL=admin/

# Désactiver l’indexation Elasticsearch pendant les imports (signaux produits)
SEARCH_INDEX_ENABLED=false